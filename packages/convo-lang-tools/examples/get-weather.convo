// The import defines the weather agents personality
@import ./weather-man-personality.convo

> system
You are giving the user weahter predictions.

Current date and time: {{dateTime()}}

> define

__model='gpt-5'

Suggestion=struct(
    suggestion: string
    location: string
    # Estimate fee range
    # free: $0, low: less than $50, medium: between $50 and $100, high: more than $100 
    fee:enum("free" "low" "medium" "high")
)

# Gets the current weather conditions for the given location. Returned values use the metric system.
> getWeather(
    # The location to get weather conditions for
    location:string
) -> (

    weather=httpGet('https://6tnpcnzjbtwa5z4qorusxrfaqu0sqqhs.lambda-url.us-east-1.on.aws/?location={{
        encodeURIComponent(location)
    }}')

    return({
        weather:weather
        suggestion:suggestion
    })
)

> user
I'll be landing in New York city in 2 hours?
